<div class="row">
	<div class="columns small-12">
		<h1>{{ urn }}</h1>
	</div>
</div>

<div class="row">
	<div class="columns small-12">
		
		<div data-alert 
				 ng-show="urn_invalid"
				 class="alert-box warning">
				 
				 URN not found.  It can't be deleted if it doesn't exist.
				 
		</div>
		
		<!-- Start -->
		
		<div ng-hide="urn_invalid">
			<p>Before deleting this record, we check where it is referenced...</p>
			<a class="button secondary" 
			   ng-click="get_refs()">Start</a>
		</div>
		
		<!-- References -->
		
		<div ng-show="show_refs">
			
			<!-- Safe to delete -->
			
			<div data-alert
					 ng-if="refs.length == 0"
					 class="alert-box success">
					 
					 No references found. Safe to delete.
					 
				<a ng-if="refs.length == 0"
					 class="button secondary tiny" 
					 ng-click="delete()">Delete</a>
					 
			</div>
			
			<!-- References found -->
				
			<div ng-if="refs.length > 0">
				
				<div data-alert
						 class="alert-box warning">
						 
						 References found.  Still want to delete?
						 
				  <a class="button secondary tiny"
					   ng-click="delete()">Delete</a>
						 
				</div>
					
				<table>
				<tr><th>verb</th><th>urn</th></tr>
				<tr ng-repeat="ref in refs">
					<th>{{ ref.verb }}</th>
					<th><a href="#/delete/{{ ref.urn }}">{{ ref.urn }}</a></th>
				</tr>
				</table>
				 
		</div>

	</div>
</div>